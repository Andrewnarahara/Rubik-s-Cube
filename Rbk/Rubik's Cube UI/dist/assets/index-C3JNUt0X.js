import{e as Ct}from"./search-worker-entry-CVNgimpE.js";class tt{is(e){return this instanceof e}as(e){return this instanceof e?this:null}}class $ extends tt{constructor(){super()}get log(){return console.log.bind(console,this,this.toString())}}var x=(i=>(i[i.Forwards=1]="Forwards",i[i.Backwards=-1]="Backwards",i))(x||{});function Mt(i,e=!0){if(!e)return i;switch(i){case 1:return-1;case-1:return 1}}function Gt(i,e){return e===-1?Array.from(i).reverse():i}function Kt(i){return Array.from(i).reverse()}const Fe=2147483647,Le="2^31 - 1",_t=-2147483648;class E extends ${#e;#t;constructor(e,t){super(),this.#e=ue(e),this.#t=ue(t)}get A(){return this.#e}get B(){return this.#t}isIdentical(e){const t=e.as(E);return!!(t?.A.isIdentical(this.A)&&t?.B.isIdentical(this.B))}invert(){return new E(this.#t,this.#e)}*experimentalExpand(e=x.Forwards,t){t??=1/0,t===0?yield e===x.Forwards?this:this.invert():e===x.Forwards?(yield*this.A.experimentalExpand(x.Forwards,t-1),yield*this.B.experimentalExpand(x.Forwards,t-1),yield*this.A.experimentalExpand(x.Backwards,t-1),yield*this.B.experimentalExpand(x.Backwards,t-1)):(yield*this.B.experimentalExpand(x.Forwards,t-1),yield*this.A.experimentalExpand(x.Forwards,t-1),yield*this.B.experimentalExpand(x.Backwards,t-1),yield*this.A.experimentalExpand(x.Backwards,t-1))}toString(e){return`[${this.#e.toString(e)}, ${this.#t.toString(e)}]`}}class b extends ${#e;#t;constructor(e,t){super(),this.#e=ue(e),this.#t=ue(t)}get A(){return this.#e}get B(){return this.#t}isIdentical(e){const t=e.as(b);return!!(t?.A.isIdentical(this.A)&&t?.B.isIdentical(this.B))}invert(){return new b(this.#e,this.#t.invert())}*experimentalExpand(e,t){t??=1/0,t===0?yield e===x.Forwards?this:this.invert():(yield*this.A.experimentalExpand(x.Forwards,t-1),yield*this.B.experimentalExpand(e,t-1),yield*this.A.experimentalExpand(x.Backwards,t-1))}toString(e){return`[${this.A.toString(e)}: ${this.B.toString(e)}]`}}class j extends ${#e;constructor(e){if(super(),e.includes(`
`)||e.includes("\r"))throw new Error("LineComment cannot contain newline");this.#e=e}get text(){return this.#e}isIdentical(e){const t=e;return e.is(j)&&this.#e===t.#e}invert(){return this}*experimentalExpand(e=x.Forwards,t=1/0){yield this}toString(e){return`//${this.#e}`}}class G extends ${toString(e){return`
`}isIdentical(e){return e.is(G)}invert(){return this}*experimentalExpand(e=x.Forwards,t=1/0){yield this}}class N extends ${experimentalNISSGrouping;toString(e){return"."}isIdentical(e){return e.is(N)}invert(){return this}*experimentalExpand(e=x.Forwards,t=1/0){yield this}}class Ne{#e=[];push(e){this.#e.push(e)}experimentalPushAlg(e){for(const t of e.childAlgNodes())this.push(t)}experimentalNumAlgNodes(){return this.#e.length}toAlg(){return new f(this.#e)}reset(){this.#e=[]}}function fe(i,e){return i?parseInt(i):e}const Oe=/^(\d+)?('?)/,qt=/^[_\dA-Za-z]/,$t=/^((([1-9]\d*)-)?([1-9]\d*))?([_A-Za-z]+)/,Wt=/^[^\n]*/,Qt=/^(-?\d+), ?/,Vt=/^(-?\d+)\)/;function nt(i){return new ze().parseAlg(i)}function Ht(i){return new ze().parseMove(i)}function Zt(i){return new ze().parseQuantumMove(i)}const ae=Symbol("startCharIndex"),se=Symbol("endCharIndex");function v(i,e,t){const r=i;return r[ae]=e,r[se]=t,r}function jt(i,e){return ae in i&&(e[ae]=i[ae]),se in i&&(e[se]=i[se]),e}class ze{#e="";#t=0;#n=[];parseAlg(e){this.#e=e,this.#t=0;const t=this.parseAlgWithStopping([]);this.mustBeAtEndOfInput();const r=Array.from(t.childAlgNodes());if(this.#n.length>0)for(const u of this.#n.reverse())r.push(u);const n=new f(r),{[ae]:o,[se]:l}=t;return v(n,o,l),n}parseMove(e){this.#e=e,this.#t=0;const t=this.parseMoveImpl();return this.mustBeAtEndOfInput(),t}parseQuantumMove(e){this.#e=e,this.#t=0;const t=this.parseQuantumMoveImpl();return this.mustBeAtEndOfInput(),t}mustBeAtEndOfInput(){if(this.#t!==this.#e.length)throw new Error("parsing unexpectedly ended early")}parseAlgWithStopping(e){let t=this.#t,r=this.#t;const n=new Ne;let o=!1;const l=u=>{if(o)throw new Error(`Unexpected character at index ${u}. Are you missing a space?`)};e:for(;this.#t<this.#e.length;){const u=this.#t;if(e.includes(this.#e[this.#t]))return v(n.toAlg(),t,r);if(this.tryConsumeNext(" ")){o=!1,n.experimentalNumAlgNodes()===0&&(t=this.#t);continue e}else if(qt.test(this.#e[this.#t])){l(u);const c=this.parseMoveImpl();n.push(c),o=!0,r=this.#t;continue e}else if(this.tryConsumeNext("(")){l(u);const c=this.tryRegex(Qt);if(c){const m=c[1],h=this.#t,w=this.parseRegex(Vt),p=v(new a(new k("U_SQ_"),parseInt(m)),u+1,u+1+m.length),g=v(new a(new k("D_SQ_"),parseInt(w[1])),h,this.#t-1),d=v(new f([p,g]),u+1,this.#t-1);n.push(v(new B(d),u,this.#t)),o=!0,r=this.#t;continue e}else{const m=this.parseAlgWithStopping([")"]);this.mustConsumeNext(")");const h=this.parseAmount();n.push(v(new B(m,h),u,this.#t)),o=!0,r=this.#t;continue e}}else if(this.tryConsumeNext("^")){this.mustConsumeNext("(");const c=this.parseAlgWithStopping([")"]);this.popNext();const m=new B(c,-1),h=new N;m.experimentalNISSPlaceholder=h,h.experimentalNISSGrouping=m,this.#n.push(m),n.push(h)}else if(this.tryConsumeNext("[")){l(u);const c=this.parseAlgWithStopping([",",":"]),m=this.popNext(),h=this.parseAlgWithStopping(["]"]);this.mustConsumeNext("]");let w;switch(m){case":":{w=v(new b(c,h),u,this.#t),o=!0,r=this.#t;break}case",":{w=v(new E(c,h),u,this.#t),o=!0,r=this.#t;break}default:throw new Error("unexpected parsing error")}const p=this.#t,g=this.parseAmount();if(g===1)n.push(w);else{const d=v(new f([w]),u,p),S=v(new B(d,g),u,this.#t);n.push(S)}o=!0,r=this.#t;continue e}else if(this.tryConsumeNext(`
`)){n.push(v(new G,u,this.#t)),o=!1,r=this.#t;continue e}else if(this.tryConsumeNext("/"))if(this.tryConsumeNext("/")){l(u);const[c]=this.parseRegex(Wt);n.push(v(new j(c),u,this.#t)),o=!1,r=this.#t;continue e}else{n.push(v(new a("_SLASH_"),u,this.#t)),o=!0,r=this.#t;continue e}else if(this.tryConsumeNext(".")){l(u),n.push(v(new N,u,this.#t)),o=!0,r=this.#t;continue e}else throw new Error(`Unexpected character: ${this.popNext()}`)}if(this.#t!==this.#e.length)throw new Error("did not finish parsing?");if(e.length>0)throw new Error("expected stopping");return v(n.toAlg(),t,r)}parseQuantumMoveImpl(){const[,,,e,t,r]=this.parseRegex($t);return new k(r,fe(t,void 0),fe(e,void 0))}parseMoveImpl(){const e=this.#t;if(this.tryConsumeNext("/"))return v(new a("_SLASH_"),e,this.#t);let t=this.parseQuantumMoveImpl(),[r,n]=this.parseAmountAndTrackEmptyAbsAmount();const o=this.parseMoveSuffix();if(o){if(r<0)throw new Error("uh-oh");if((o==="++"||o==="--")&&r!==1)throw new Error("Pochmann ++ or -- moves cannot have an amount other than 1.");if((o==="++"||o==="--")&&!n)throw new Error("Pochmann ++ or -- moves cannot have an amount written as a number.");if((o==="+"||o==="-")&&n)throw new Error("Clock dial moves must have an amount written as a natural number followed by + or -.");o.startsWith("+")&&(t=t.modified({family:`${t.family}_${o==="+"?"PLUS":"PLUSPLUS"}_`})),o.startsWith("-")&&(t=t.modified({family:`${t.family}_${o==="-"?"PLUS":"PLUSPLUS"}_`}),r*=-1)}return v(new a(t,r),e,this.#t)}parseMoveSuffix(){return this.tryConsumeNext("+")?this.tryConsumeNext("+")?"++":"+":this.tryConsumeNext("-")?this.tryConsumeNext("-")?"--":"-":null}parseAmountAndTrackEmptyAbsAmount(){const e=this.#t,[,t,r]=this.parseRegex(Oe);if(t?.startsWith("0")&&t!=="0")throw new Error(`Error at char index ${e}: An amount can only start with 0 if it's exactly the digit 0.`);return[fe(t,1)*(r==="'"?-1:1),!t]}parseAmount(){const e=this.#t,[,t,r]=this.parseRegex(Oe);if(t?.startsWith("0")&&t!=="0")throw new Error(`Error at char index ${e}: An amount number can only start with 0 if it's exactly the digit 0.`);return fe(t,1)*(r==="'"?-1:1)}parseRegex(e){const t=e.exec(this.remaining());if(t===null)throw new Error("internal parsing error");return this.#t+=t[0].length,t}tryRegex(e){const t=e.exec(this.remaining());return t===null?null:(this.#t+=t[0].length,t)}remaining(){return this.#e.slice(this.#t)}popNext(){const e=this.#e[this.#t];return this.#t++,e}tryConsumeNext(e){return this.#e[this.#t]===e?(this.#t++,!0):!1}mustConsumeNext(e){const t=this.popNext();if(t!==e)throw new Error(`expected \`${e}\` while parsing, encountered ${t}`);return t}}const Ie=new Set;function rt(i){Ie.has(i)||(console.warn(i),Ie.add(i))}class Ee{quantum;amount;constructor(e,t=1){if(this.quantum=e,this.amount=t,!Number.isInteger(this.amount)||this.amount<_t||this.amount>Fe)throw new Error(`AlgNode amount absolute value must be a non-negative integer below ${Le}.`)}suffix(){let e="";const t=Math.abs(this.amount);return t!==1&&(e+=t),this.amount<0&&(e+="'"),e}isIdentical(e){return this.quantum.isIdentical(e.quantum)&&this.amount===e.amount}*experimentalExpand(e,t){const r=Math.abs(this.amount),n=Mt(e,this.amount<0);for(let o=0;o<r;o++)yield*this.quantum.experimentalExpand(n,t)}}class k extends tt{#e;#t;#n;constructor(e,t,r){if(super(),this.#e=e,this.#t=t??null,this.#n=r??null,Object.freeze(this),this.#t!==null&&(!Number.isInteger(this.#t)||this.#t<1||this.#t>Fe))throw new Error(`QuantumMove inner layer must be a positive integer below ${Le}.`);if(this.#n!==null&&(!Number.isInteger(this.#n)||this.#n<1||this.#n>Fe))throw new Error(`QuantumMove outer layer must be a positive integer below ${Le}.`);if(this.#n!==null&&this.#t!==null&&this.#t<=this.#n)throw new Error("QuantumMove outer layer must be smaller than inner layer.");if(this.#n!==null&&this.#t===null)throw new Error("QuantumMove with an outer layer must have an inner layer")}static fromString(e){return Zt(e)}modified(e){return new k(e.family??this.#e,e.innerLayer??this.#t,e.outerLayer??this.#n)}isIdentical(e){const t=e;return e.is(k)&&this.#e===t.#e&&this.#t===t.#t&&this.#n===t.#n}get family(){return this.#e}get outerLayer(){return this.#n}get innerLayer(){return this.#t}experimentalExpand(){throw new Error("experimentalExpand() cannot be called on a `QuantumMove` directly.")}toString(e){let t=this.#e;return this.#t!==null&&(t=String(this.#t)+t,this.#n!==null&&(t=`${String(this.#n)}-${t}`)),t}}class a extends ${#e;constructor(...e){if(super(),typeof e[0]=="string")if(e[1]??null){this.#e=new Ee(k.fromString(e[0]),e[1]);return}else return a.fromString(e[0]);this.#e=new Ee(e[0],e[1])}isIdentical(e){const t=e.as(a);return!!t&&this.#e.isIdentical(t.#e)}invert(){return jt(this,new a(this.#e.quantum,this.#n()?this.amount:-this.amount))}*experimentalExpand(e=x.Forwards){e===x.Forwards?yield this:yield this.modified({amount:-this.amount})}get quantum(){return this.#e.quantum}modified(e){return new a(this.#e.quantum.modified(e),e.amount??this.amount)}static fromString(e){return Ht(e)}get amount(){return this.#e.amount}get type(){return rt("deprecated: type"),"blockMove"}get family(){return this.#e.quantum.family??void 0}get outerLayer(){return this.#e.quantum.outerLayer??void 0}get innerLayer(){return this.#e.quantum.innerLayer??void 0}#t;#n(){return this.isIdentical(this.#t??=new a("_SLASH_"))}toString(e){if(e?.notation!=="LGN"){if(this.#n())return"/";if(this.family.endsWith("_PLUS_"))return this.#e.quantum.toString().slice(0,-6)+Math.abs(this.amount)+(this.amount<0?"-":"+");if(this.family.endsWith("_PLUSPLUS_")){const t=Math.abs(this.amount);return this.#e.quantum.toString().slice(0,-10)+(t===1?"":t)+(this.amount<0?"--":"++")}}return this.#e.quantum.toString(e)+this.#e.suffix()}}class Jt{quantumU_SQ_=null;quantumD_SQ_=null;format(e,t){if(t?.notation==="LGN"||e.amount!==1)return null;const r=this.tuple(e);return r?`(${r.map(n=>n.amount).join(", ")})`:null}tuple(e){if(e.amount!==1)return null;this.quantumU_SQ_||=new k("U_SQ_"),this.quantumD_SQ_||=new k("D_SQ_");const t=e.alg;if(t.experimentalNumChildAlgNodes()===2){const[r,n]=t.childAlgNodes();if(r.as(a)?.quantum.isIdentical(this.quantumU_SQ_)&&n.as(a)?.quantum.isIdentical(this.quantumD_SQ_))return[r,n]}return null}}const ye=new Jt;class B extends ${#e;experimentalNISSPlaceholder;constructor(e,t){super();const r=ue(e);this.#e=new Ee(r,t)}isIdentical(e){const t=e;return e.is(B)&&this.#e.isIdentical(t.#e)}get alg(){return this.#e.quantum}get amount(){return this.#e.amount}get experimentalRepetitionSuffix(){return this.#e.suffix()}invert(){const e=ye.tuple(this);if(e){const[t,r]=e;return new B(new f([t.invert(),r.invert()]))}return new B(this.#e.quantum,-this.#e.amount)}*experimentalExpand(e=x.Forwards,t){t??=1/0,t===0?yield e===x.Forwards?this:this.invert():yield*this.#e.experimentalExpand(e,t-1)}static fromString(){throw new Error("unimplemented")}#t(e){const t=this.#e.quantum.toString(e),r=this.alg.childAlgNodes(),{value:n}=r.next();return r.next().done&&(n?.is(E)||n?.is(b))?t:`(${t})`}toString(e){return ye.format(this,e)??`${this.#t(e)}${this.#e.suffix()}`}experimentalAsSquare1Tuple(){return ye.tuple(this)}}function M(i,e){return i instanceof e}function Yt(i){return M(i,B)||M(i,j)||M(i,E)||M(i,b)||M(i,a)||M(i,G)||M(i,N)}function it(i,e,t){if(e.is(B))return i.traverseGrouping(e,t);if(e.is(a))return i.traverseMove(e,t);if(e.is(E))return i.traverseCommutator(e,t);if(e.is(b))return i.traverseConjugate(e,t);if(e.is(N))return i.traversePause(e,t);if(e.is(G))return i.traverseNewline(e,t);if(e.is(j))return i.traverseLineComment(e,t);throw new Error("unknown AlgNode")}function ot(i){if(i.is(B)||i.is(a)||i.is(E)||i.is(b)||i.is(N)||i.is(G)||i.is(j))return i;throw new Error("internal error: expected AlgNode")}class Ae{traverseAlgNode(e,t){return it(this,e,t)}traverseIntoAlgNode(e,t){return ot(this.traverseAlgNode(e,t))}}class ke extends Ae{traverseAlgNode(e){return it(this,e,void 0)}traverseIntoAlgNode(e){return ot(this.traverseAlgNode(e))}}function W(i,e){const t=new i(...e??[]);return t.traverseAlg.bind(t)}const Xt="any-direction";class at{constructor(e={}){this.config=e}cancelQuantum(){const{cancel:e}=this.config;return e===!0?Xt:e===!1?"none":e?.directional??"none"}cancelAny(){return this.config.cancel&&this.cancelQuantum()!=="none"}cancelPuzzleSpecificModWrap(){const{cancel:e}=this.config;return e===!0||e===!1?"canonical-centered":e?.puzzleSpecificModWrap?e?.puzzleSpecificModWrap:e?.directional==="same-direction"?"preserve-sign":"canonical-centered"}puzzleSpecificSimplifyOptions(){return this.config.puzzleLoader?.puzzleSpecificSimplifyOptions??this.config.puzzleSpecificSimplifyOptions}}function en(i,e){return i*Math.sign(e.amount)>=0}function tn(i,e,t=0){return((i-t)%e+e)%e+t}function nn(i,e,t){const r=new at(t),n=Array.from(i.childAlgNodes());let o=[e];function l(){return new f([...n,...o])}function u(c){if(r.cancelPuzzleSpecificModWrap()==="none")return c;const m=r.puzzleSpecificSimplifyOptions()?.quantumMoveOrder;if(!m)return c;const h=m(e.quantum);let w;switch(r.cancelPuzzleSpecificModWrap()){case"gravity":{w=-Math.floor((h-(c.amount<0?0:1))/2);break}case"canonical-centered":{w=-Math.floor((h-1)/2);break}case"canonical-positive":{w=0;break}case"preserve-sign":{w=c.amount<0?1-h:0;break}default:throw new Error("Unknown mod wrap")}const p=tn(c.amount,h,w);return c.modified({amount:p})}if(r.cancelAny()){let c;const m=r.puzzleSpecificSimplifyOptions()?.axis;if(m)c=d=>m.areQuantumMovesSameAxis(e.quantum,d.quantum);else{const d=e.quantum.toString();c=S=>S.quantum.toString()===d}const h=r.cancelQuantum()==="same-direction",w=new Map;w.set(e.quantum.toString(),Math.sign(e.amount));let p;for(p=n.length-1;p>=0;p--){const d=n[p].as(a);if(!d||!c(d))break;const S=d.quantum.toString();if(h){const U=w.get(S);if(U&&!en(U,d))break;w.set(S,Math.sign(d.amount))}}const g=[...n.splice(p+1),e];if(m)o=m.simplifySameAxisMoves(g,r.cancelPuzzleSpecificModWrap()!=="none");else{const d=g.reduce((S,U)=>S+U.amount,0);if(w.size!==1)throw new Error("Internal error: multiple quantums when one was expected");o=[new a(e.quantum,d)]}}return o=o.map(c=>u(c)).filter(c=>c.amount!==0),l()}function rn(i,e,t){const r=e.as(a);return r?nn(i,r,t):new f([...i.childAlgNodes(),e])}class on extends Ae{#e;#t(){return this.#e??=new Map}#n(e){return{...e,depth:e.depth?e.depth-1:null}}*traverseAlg(e,t){if(t.depth===0){yield*e.childAlgNodes();return}let r=[];const n=this.#n(t);for(const o of e.childAlgNodes())for(const l of this.traverseAlgNode(o,n))r=Array.from(rn(new f(r),l,n).childAlgNodes());for(const o of r)yield o}*traverseGrouping(e,t){if(t.depth===0){yield e;return}if(e.amount===0)return;const r=new B(this.traverseAlg(e.alg,this.#n(t)),e.amount);if(r.alg.experimentalIsEmpty())return;const n=this.#t().get(e);n&&(r.experimentalNISSPlaceholder=n,n.experimentalNISSGrouping=r),yield r}*traverseMove(e,t){yield e}#r(e,t,r){if(e.experimentalNumChildAlgNodes()===1&&t.experimentalNumChildAlgNodes()===1){const n=Array.from(e.childAlgNodes())[0]?.as(a),o=Array.from(t.childAlgNodes())[0]?.as(a);if(!(n&&o))return!1;if(o.quantum.isIdentical(n.quantum)||new at(r).puzzleSpecificSimplifyOptions()?.axis?.areQuantumMovesSameAxis(n.quantum,o.quantum))return!0}return!1}*traverseCommutator(e,t){if(t.depth===0){yield e;return}const r=this.#n(t),n=new E(this.traverseAlg(e.A,r),this.traverseAlg(e.B,r));n.A.experimentalIsEmpty()||n.B.experimentalIsEmpty()||n.A.isIdentical(n.B)||n.A.isIdentical(n.B.invert())||this.#r(n.A,n.B,t)||(yield n)}*traverseConjugate(e,t){if(t.depth===0){yield e;return}const r=this.#n(t),n=new b(this.traverseAlg(e.A,r),this.traverseAlg(e.B,r));if(!n.B.experimentalIsEmpty()){if(n.A.experimentalIsEmpty()||n.A.isIdentical(n.B)||n.A.isIdentical(n.B.invert())||this.#r(n.A,n.B,t)){yield*e.B.childAlgNodes();return}yield n}}*traversePause(e,t){if(e.experimentalNISSGrouping){const r=new N;this.#t().set(e.experimentalNISSGrouping,r),yield r}else yield e}*traverseNewline(e,t){yield e}*traverseLineComment(e,t){yield e}}const an=W(on);function Ce(i){if(!i)return[];if(M(i,f))return i.childAlgNodes();if(typeof i=="string")return nt(i).childAlgNodes();const e=i;if(typeof e[Symbol.iterator]=="function")return e;throw new Error("Invalid AlgNode")}function ue(i){return M(i,f)?i:new f(i)}class f extends ${#e;constructor(e){super(),this.#e=Array.from(Ce(e));for(const t of this.#e)if(!Yt(t))throw new Error("An alg can only contain alg nodes.")}isIdentical(e){const t=e;if(!e.is(f))return!1;const r=Array.from(this.#e),n=Array.from(t.#e);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!r[o].isIdentical(n[o]))return!1;return!0}invert(){return new f(Kt(Array.from(this.#e).map(e=>e.invert())))}*experimentalExpand(e=x.Forwards,t){t??=1/0;for(const r of Gt(this.#e,e))yield*r.experimentalExpand(e,t)}expand(e){return new f(this.experimentalExpand(x.Forwards,e?.depth??1/0))}*experimentalLeafMoves(){for(const e of this.experimentalExpand())e.is(a)&&(yield e)}concat(e){return new f(Array.from(this.#e).concat(Array.from(Ce(e))))}experimentalIsEmpty(){for(const e of this.#e)return!1;return!0}static fromString(e){return nt(e)}units(){return this.childAlgNodes()}*childAlgNodes(){for(const e of this.#e)yield e}experimentalNumUnits(){return this.experimentalNumChildAlgNodes()}experimentalNumChildAlgNodes(){return Array.from(this.#e).length}get type(){return rt("deprecated: type"),"sequence"}toString(e){let t="",r=null;for(const n of this.#e){r&&(t+=sn(r,n));const o=n.as(N)?.experimentalNISSGrouping;if(o){if(o.amount!==-1)throw new Error("Invalid NISS Grouping amount!");t+=`^(${o.alg.toString(e)})`}else n.as(B)?.experimentalNISSPlaceholder||(t+=n.toString(e));r=n}return t}experimentalSimplify(e){return new f(an(this,e??{}))}simplify(e){return this.experimentalSimplify(e)}}function sn(i,e){return i.is(G)||e.is(G)||e.as(B)?.experimentalNISSPlaceholder?"":i.is(j)&&!e.is(G)?`
`:" "}new f([new a("R",1),new a("U",1),new a("R",-1),new a("U",1),new a("R",1),new a("U",-2),new a("R",-1)]),new f([new a("R",1),new a("U",2),new a("R",-1),new a("U",-1),new a("R",1),new a("U",-1),new a("R",-1)]),new f([new E(new f([new a("R",1),new a("U",1),new a("R",-2)]),new f([new b(new f([new a("R",1)]),new f([new a("U",1)]))]))]),new f([new a("R",1),new a("U",-1),new a("L",-1),new a("U",1),new a("R",-1),new a("U",-1),new a("L",1),new a("U",1)]),new f([new a("x",-1),new E(new f([new b(new f([new a("R",1)]),new f([new a("U",-1)]))]),new f([new a("D",1)])),new E(new f([new b(new f([new a("R",1)]),new f([new a("U",1)]))]),new f([new a("D",1)])),new a("x",1)]),new f([new b(new f([new a("F",1)]),new f([new E(new f([new a("U",1)]),new f([new a("R",1)]))]))]),new f([new b(new f([new a("R",2)]),new f([new E(new f([new a("F",2)]),new f([new a("R",-1),new a("B",-1),new a("R",1)]))]))]),new f([new a("F",1),new a("U",1),new a("R",1),new a("U",-1),new a("R",-1),new a("F",-1)]),new f([new a("R",1),new a("U",1),new a("R",-1),new a("U",-1),new a("R",-1),new a("F",1),new a("R",2),new a("U",-1),new a("R",-1),new a("U",-1),new a("R",1),new a("U",1),new a("R",-1),new a("F",-1)]),new f([new b(new f([new a("F",1)]),new f([new B(new f([new E(new f([new a("R",1)]),new f([new a("U",1)]))]),3)]))]),new f([new N,new N,new N]);function be(i,e,t){const r={};for(const n of i.orbits){const o=e[n.orbitName],l=t[n.orbitName];if(pe(n.numOrientations,l))r[n.orbitName]=o;else if(pe(n.numOrientations,o))r[n.orbitName]=l;else{const u=new Array(n.numPieces);if(n.numOrientations===1){for(let c=0;c<n.numPieces;c++)u[c]=o.permutation[l.permutation[c]];r[n.orbitName]={permutation:u,orientationDelta:o.orientationDelta}}else{const c=new Array(n.numPieces);for(let m=0;m<n.numPieces;m++)c[m]=(o.orientationDelta[l.permutation[m]]+l.orientationDelta[m])%n.numOrientations,u[m]=o.permutation[l.permutation[m]];r[n.orbitName]={permutation:u,orientationDelta:c}}}}return r}function Me(i,e,t){const r={};for(const n of i.orbits){const o=e[n.orbitName],l=t[n.orbitName];if(pe(n.numOrientations,l))r[n.orbitName]=o;else{const u=new Array(n.numPieces);if(n.numOrientations===1){for(let m=0;m<n.numPieces;m++)u[m]=o.pieces[l.permutation[m]];const c={pieces:u,orientation:o.orientation};r[n.orbitName]=c}else{const c=new Array(n.numPieces),m=o.orientationMod?new Array(n.numPieces):void 0;for(let w=0;w<n.numPieces;w++){const p=l.permutation[w];let g=n.numOrientations;if(o.orientationMod){const d=o.orientationMod[p];m[w]=d,g=d||n.numOrientations}c[w]=(o.orientation[p]+l.orientationDelta[w])%g,u[w]=o.pieces[p]}const h={pieces:u,orientation:c};m&&(h.orientationMod=m),r[n.orbitName]=h}}}return r}const Ge=new Map;function un(i){const e=Ge.get(i);if(e)return e;const t=new Array(i),r=new Array(i);for(let o=0;o<i;o++)t[o]=o,r[o]=0;const n={permutation:t,orientationDelta:r};return Ge.set(i,n),n}function cn(i){const e={};for(const t of i.orbits)e[t.orbitName]=un(t.numPieces);return e}function ln(i,e){function t(n,o){const l=n.toString(),u=i.definition.moves[l];if(u)return ne(i,u,o);const c=i.definition.derivedMoves?.[l];if(c)return ne(i,i.algToTransformation(c).transformationData,o)}const r=t(e.quantum,e.amount)??t(e,1)??t(e.invert,-1);if(r)return r;throw new Error(`Invalid move for KPuzzle (${i.name()}): ${e}`)}class L{constructor(e,t){this.kpuzzle=e,this.patternData=t}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),patternData:this.patternData}}static fromTransformation(e){const t=Me(e.kpuzzle.definition,e.kpuzzle.definition.defaultPattern,e.transformationData);return new L(e.kpuzzle,t)}apply(e){return this.applyTransformation(this.kpuzzle.toTransformation(e))}applyTransformation(e){if(e.isIdentityTransformation())return new L(this.kpuzzle,this.patternData);const t=Me(this.kpuzzle.definition,this.patternData,e.transformationData);return new L(this.kpuzzle,t)}applyMove(e){return this.applyTransformation(this.kpuzzle.moveToTransformation(e))}applyAlg(e){return this.applyTransformation(this.kpuzzle.algToTransformation(e))}isIdentical(e){return dn(this.kpuzzle,this.patternData,e.patternData)}experimentalToTransformation(){if(!this.kpuzzle.canConvertDefaultPatternToUniqueTransformation())return null;const e={};for(const[t,r]of Object.entries(this.patternData)){const n={permutation:r.pieces,orientationDelta:r.orientation};e[t]=n}return new A(this.kpuzzle,e)}experimentalIsSolved(e){if(!this.kpuzzle.definition.experimentalIsPatternSolved)throw new Error("`KPattern.experimentalIsPatternSolved()` is not supported for this puzzle at the moment.");return this.kpuzzle.definition.experimentalIsPatternSolved(this,e)}}class A{constructor(e,t){this.kpuzzle=e,this.transformationData=t}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),transformationData:this.transformationData}}invert(){return new A(this.kpuzzle,st(this.kpuzzle,this.transformationData))}#e;isIdentityTransformation(){return this.#e??=this.isIdentical(this.kpuzzle.identityTransformation())}static experimentalConstructIdentity(e){const t=new A(e,cn(e.definition));return t.#e=!0,t}isIdentical(e){return fn(this.kpuzzle,this.transformationData,e.transformationData)}apply(e){return this.applyTransformation(this.kpuzzle.toTransformation(e))}applyTransformation(e){if(this.kpuzzle!==e.kpuzzle)throw new Error(`Tried to apply a transformation for a KPuzzle (${e.kpuzzle.name()}) to a different KPuzzle (${this.kpuzzle.name()}).`);return this.#e?new A(this.kpuzzle,e.transformationData):e.#e?new A(this.kpuzzle,this.transformationData):new A(this.kpuzzle,be(this.kpuzzle.definition,this.transformationData,e.transformationData))}applyMove(e){return this.applyTransformation(this.kpuzzle.moveToTransformation(e))}applyAlg(e){return this.applyTransformation(this.kpuzzle.algToTransformation(e))}toKPattern(){return L.fromTransformation(this)}repetitionOrder(){return gn(this.kpuzzle.definition,this)}selfMultiply(e){return new A(this.kpuzzle,ne(this.kpuzzle,this.transformationData,e))}}function pe(i,e){e.permutation||console.log(e);const{permutation:t}=e,r=t.length;for(let n=0;n<r;n++)if(t[n]!==n)return!1;if(i>1){const{orientationDelta:n}=e;for(let o=0;o<r;o++)if(n[o]!==0)return!1}return!0}function mn(i,e,t,r={}){for(let n=0;n<i.numPieces;n++)if(!r?.ignorePieceOrientations&&e.orientationDelta[n]!==t.orientationDelta[n]||!r?.ignorePiecePermutation&&e.permutation[n]!==t.permutation[n])return!1;return!0}function fn(i,e,t){for(const r of i.definition.orbits)if(!mn(r,e[r.orbitName],t[r.orbitName]))return!1;return!0}function pn(i,e,t,r={}){for(let n=0;n<i.numPieces;n++)if(!r?.ignorePieceOrientations&&(e.orientation[n]!==t.orientation[n]||(e.orientationMod?.[n]??0)!==(t.orientationMod?.[n]??0))||!r?.ignorePieceIndices&&e.pieces[n]!==t.pieces[n])return!1;return!0}function dn(i,e,t){for(const r of i.definition.orbits)if(!pn(r,e[r.orbitName],t[r.orbitName]))return!1;return!0}function st(i,e){const t={};for(const r of i.definition.orbits){const n=e[r.orbitName];if(pe(r.numOrientations,n))t[r.orbitName]=n;else if(r.numOrientations===1){const o=new Array(r.numPieces);for(let l=0;l<r.numPieces;l++)o[n.permutation[l]]=l;t[r.orbitName]={permutation:o,orientationDelta:n.orientationDelta}}else{const o=new Array(r.numPieces),l=new Array(r.numPieces);for(let u=0;u<r.numPieces;u++){const c=n.permutation[u];o[c]=u,l[c]=(r.numOrientations-n.orientationDelta[u]+r.numOrientations)%r.numOrientations}t[r.orbitName]={permutation:o,orientationDelta:l}}}return t}function ne(i,e,t){if(t===1)return e;if(t<0)return ne(i,st(i,e),-t);if(t===0){const{transformationData:o}=i.identityTransformation();return o}let r=e;t!==2&&(r=ne(i,e,Math.floor(t/2)));const n=be(i.definition,r,r);return t%2===0?n:be(i.definition,e,n)}class hn extends Ae{traverseAlg(e,t){let r=null;for(const n of e.childAlgNodes())r?r=r.applyTransformation(this.traverseAlgNode(n,t)):r=this.traverseAlgNode(n,t);return r??t.identityTransformation()}traverseGrouping(e,t){const r=this.traverseAlg(e.alg,t);return new A(t,ne(t,r.transformationData,e.amount))}traverseMove(e,t){return t.moveToTransformation(e)}traverseCommutator(e,t){const r=this.traverseAlg(e.A,t),n=this.traverseAlg(e.B,t);return r.applyTransformation(n).applyTransformation(r.invert()).applyTransformation(n.invert())}traverseConjugate(e,t){const r=this.traverseAlg(e.A,t),n=this.traverseAlg(e.B,t);return r.applyTransformation(n).applyTransformation(r.invert())}traversePause(e,t){return t.identityTransformation()}traverseNewline(e,t){return t.identityTransformation()}traverseLineComment(e,t){return t.identityTransformation()}}const wn=W(hn);function Be(i,e){return e?Be(e,i%e):i}function gn(i,e){let t=1;for(const r of i.orbits){const n=e.transformationData[r.orbitName],o=new Array(r.numPieces);for(let l=0;l<r.numPieces;l++)if(!o[l]){let u=l,c=0,m=0;for(;o[u]=!0,c=c+n.orientationDelta[u],m=m+1,u=n.permutation[u],u!==l;);c!==0&&(m=m*r.numOrientations/Be(r.numOrientations,Math.abs(c))),t=t*m/Be(t,m)}}return t}class I{constructor(e,t){this.definition=e,this.experimentalPGNotation=t?.experimentalPGNotation}experimentalPGNotation;#e;lookupOrbitDefinition(e){return this.#e||=(()=>{const t={};for(const r of this.definition.orbits)t[r.orbitName]=r;return t})(),this.#e[e]}name(){return this.definition.name}identityTransformation(){return A.experimentalConstructIdentity(this)}#t=new Map;moveToTransformation(e){typeof e=="string"&&(e=new a(e));const t=e.toString(),r=this.#t.get(t);if(r)return new A(this,r);if(this.experimentalPGNotation){const o=this.experimentalPGNotation.lookupMove(e);if(!o)throw new Error(`could not map to internal move: ${e}`);return this.#t.set(t,o),new A(this,o)}const n=ln(this,e);return this.#t.set(t,n),new A(this,n)}algToTransformation(e){return typeof e=="string"&&(e=new f(e)),wn(e,this)}toTransformation(e){return typeof e=="string"?this.algToTransformation(e):e?.is?.(f)?this.algToTransformation(e):e?.is?.(a)?this.moveToTransformation(e):e}defaultPattern(){return new L(this,this.definition.defaultPattern)}#n;canConvertDefaultPatternToUniqueTransformation(){return this.#n??=(()=>{for(const e of this.definition.orbits){const t=new Array(e.numPieces).fill(!1);for(const r of this.definition.defaultPattern[e.orbitName].pieces)t[r]=!0;for(const r of t)if(!r)return!1}return!0})()}}class te extends Promise{constructor(e){super(t=>{t()}),this._executor=e}static from(e){return new te(t=>{t(e())})}static resolve(e){return new te(t=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}then(e,t){return this._promise=this._promise||new Promise(this._executor),this._promise.then(e,t)}catch(e){return this._promise=this._promise||new Promise(this._executor),this._promise.catch(e)}}function P(i){return new te(e=>{e(i())})}var s=(i=>(i.Regular="Regular",i.Dim="Dim",i.Ignored="Ignored",i.OrientationStickers="OrientationStickers",i.Invisible="Invisible",i.Ignoriented="Ignoriented",i.IgnoreNonPrimary="IgnoreNonPrimary",i.PermuteNonPrimary="PermuteNonPrimary",i.OrientationWithoutPermutation="OrientationWithoutPermutation",i.ExperimentalOrientationWithoutPermutation2="ExperimentalOrientationWithoutPermutation2",i.Mystery="Mystery",i))(s||{});class V{stickerings=new Map;constructor(e,t){for(const r of e.definition.orbits)this.stickerings.set(r.orbitName,new Array(r.numPieces).fill(t))}}const O="regular",D="ignored",X="oriented",xn="experimentalOriented2",re="invisible",Q="dim",ie="mystery",yn={Regular:{facelets:[O,O,O,O,O]},Ignored:{facelets:[D,D,D,D,D]},OrientationStickers:{facelets:[X,X,X,X,X]},IgnoreNonPrimary:{facelets:[O,D,D,D,D]},Invisible:{facelets:[re,re,re,re,re]},PermuteNonPrimary:{facelets:[Q,O,O,O,O]},Dim:{facelets:[Q,Q,Q,Q,Q]},Ignoriented:{facelets:[Q,D,D,D,D]},OrientationWithoutPermutation:{facelets:[X,D,D,D,D]},ExperimentalOrientationWithoutPermutation2:{facelets:[xn,D,D,D,D]},Mystery:{facelets:[ie,ie,ie,ie,ie]}};function Dn(i){return yn[i]}class ut extends V{constructor(e){super(e,"Regular")}set(e,t){for(const[r,n]of this.stickerings.entries())for(let o=0;o<n.length;o++)e.stickerings.get(r)[o]&&(n[o]=t);return this}toStickeringMask(){const e={orbits:{}};for(const[t,r]of this.stickerings.entries()){const n=[],o={pieces:n};e.orbits[t]=o;for(const l of r)n.push(Dn(l))}return e}}class ct{constructor(e){this.kpuzzle=e}and(e){const t=new V(this.kpuzzle,!1);for(const r of this.kpuzzle.definition.orbits)e:for(let n=0;n<r.numPieces;n++){t.stickerings.get(r.orbitName)[n]=!0;for(const o of e)if(!o.stickerings.get(r.orbitName)[n]){t.stickerings.get(r.orbitName)[n]=!1;continue e}}return t}or(e){const t=new V(this.kpuzzle,!1);for(const r of this.kpuzzle.definition.orbits)e:for(let n=0;n<r.numPieces;n++){t.stickerings.get(r.orbitName)[n]=!1;for(const o of e)if(o.stickerings.get(r.orbitName)[n]){t.stickerings.get(r.orbitName)[n]=!0;continue e}}return t}not(e){const t=new V(this.kpuzzle,!1);for(const r of this.kpuzzle.definition.orbits)for(let n=0;n<r.numPieces;n++)t.stickerings.get(r.orbitName)[n]=!e.stickerings.get(r.orbitName)[n];return t}all(){return this.and(this.moves([]))}move(e){const t=this.kpuzzle.moveToTransformation(e),r=new V(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)for(let o=0;o<n.numPieces;o++)(t.transformationData[n.orbitName].permutation[o]!==o||t.transformationData[n.orbitName].orientationDelta[o]!==0)&&(r.stickerings.get(n.orbitName)[o]=!0);return r}moves(e){return e.map(t=>this.move(t))}orbits(e){const t=new V(this.kpuzzle,!1);for(const r of e)t.stickerings.get(r).fill(!0);return t}orbitPrefix(e){const t=new V(this.kpuzzle,!1);for(const r of this.kpuzzle.definition.orbits)r.orbitName.startsWith(e)&&t.stickerings.get(r.orbitName).fill(!0);return t}}const Ke="Last Layer",_e="Last Slot",T={"3x3x3":Ke,megaminx:Ke},K={"3x3x3":_e,megaminx:_e},Sn={full:{groups:{"3x3x3":"Stickering",megaminx:"Stickering"}},OLL:{groups:T},PLL:{groups:T},LL:{groups:T},EOLL:{groups:T},COLL:{groups:T},OCLL:{groups:T},CPLL:{groups:T},CLL:{groups:T},EPLL:{groups:T},ELL:{groups:T},ZBLL:{groups:T},LS:{groups:K},LSOLL:{groups:K},LSOCLL:{groups:K},ELS:{groups:K},CLS:{groups:K},ZBLS:{groups:K},VLS:{groups:K},WVLS:{groups:K},F2L:{groups:{"3x3x3":"CFOP (Fridrich)"}},Daisy:{groups:{"3x3x3":"CFOP (Fridrich)"}},Cross:{groups:{"3x3x3":"CFOP (Fridrich)"}},EO:{groups:{"3x3x3":"ZZ"}},EOline:{groups:{"3x3x3":"ZZ"}},EOcross:{groups:{"3x3x3":"ZZ"}},FirstBlock:{groups:{"3x3x3":"Roux"}},SecondBlock:{groups:{"3x3x3":"Roux"}},CMLL:{groups:{"3x3x3":"Roux"}},L10P:{groups:{"3x3x3":"Roux"}},L6E:{groups:{"3x3x3":"Roux"}},L6EO:{groups:{"3x3x3":"Roux"}},"2x2x2":{groups:{"3x3x3":"Petrus"}},"2x2x3":{groups:{"3x3x3":"Petrus"}},EODF:{groups:{"3x3x3":"Nautilus"}},G1:{groups:{"3x3x3":"FMC"}},L2C:{groups:{"4x4x4":"Reduction","5x5x5":"Reduction","6x6x6":"Reduction"}},PBL:{groups:{"2x2x2":"Ortega"}},"Void Cube":{groups:{"3x3x3":"Miscellaneous"}},invisible:{groups:{"3x3x3":"Miscellaneous"}},picture:{groups:{"3x3x3":"Miscellaneous"}},"centers-only":{groups:{"3x3x3":"Miscellaneous"}},"experimental-centers-U":{},"experimental-centers-U-D":{},"experimental-centers-U-L-D":{},"experimental-centers-U-L-B-D":{},"experimental-centers":{},"experimental-fto-fc":{groups:{fto:"Bencisco"}},"experimental-fto-f2t":{groups:{fto:"Bencisco"}},"experimental-fto-sc":{groups:{fto:"Bencisco"}},"experimental-fto-l2c":{groups:{fto:"Bencisco"}},"experimental-fto-lbt":{groups:{fto:"Bencisco"}},"experimental-fto-l3t":{groups:{fto:"Bencisco"}}};async function ce(i,e){return(await Rn(i,e)).toStickeringMask()}async function Rn(i,e){const t=await i.kpuzzle(),r=new ut(t),n=new ct(t),o=()=>n.move("U"),l=()=>n.or(n.moves(["U","D"])),u=()=>n.or(n.moves(["L","R"])),c=()=>n.not(u()),m=()=>n.not(o()),h=()=>n.orbitPrefix("CENTER"),w=xe=>n.and([n.move(xe),h()]),p=()=>n.orbitPrefix("EDGE"),g=xe=>n.and([n.and(n.moves(xe)),p()]),d=()=>n.or([n.orbitPrefix("CORNER"),n.orbitPrefix("C4RNER"),n.orbitPrefix("C5RNER")]),S=()=>n.or([c(),n.and([o(),p()])]),U=()=>n.and([o(),h()]),ge=()=>n.and([n.and(n.moves(["F","R"])),p()]),me=()=>n.and([n.and(n.moves(["F","R"])),d(),n.not(o())]),J=()=>n.or([me(),ge()]);function R(){r.set(m(),s.Dim)}function It(){r.set(o(),s.PermuteNonPrimary),r.set(U(),s.Dim)}function Y(){r.set(o(),s.IgnoreNonPrimary),r.set(U(),s.Regular)}function Ue(){r.set(o(),s.Ignoriented),r.set(U(),s.Dim)}switch(e){case"full":break;case"PLL":{R(),It();break}case"CLS":{R(),r.set(me(),s.Regular),r.set(o(),s.Ignoriented),r.set(n.and([o(),h()]),s.Dim),r.set(n.and([o(),d()]),s.IgnoreNonPrimary);break}case"OLL":{R(),Y();break}case"EOLL":{R(),Y(),r.set(n.and([o(),d()]),s.Ignored);break}case"COLL":{R(),r.set(n.and([o(),p()]),s.Ignoriented),r.set(n.and([o(),h()]),s.Dim),r.set(n.and([o(),d()]),s.Regular);break}case"OCLL":{R(),Ue(),r.set(n.and([o(),d()]),s.IgnoreNonPrimary);break}case"CPLL":{R(),r.set(n.and([d(),o()]),s.PermuteNonPrimary),r.set(n.and([n.not(d()),o()]),s.Dim);break}case"CLL":{R(),r.set(n.not(n.and([d(),o()])),s.Dim);break}case"EPLL":{R(),r.set(o(),s.Dim),r.set(n.and([o(),p()]),s.PermuteNonPrimary);break}case"ELL":{R(),r.set(o(),s.Dim),r.set(n.and([o(),p()]),s.Regular);break}case"ELS":{R(),Y(),r.set(n.and([o(),d()]),s.Ignored),r.set(ge(),s.Regular),r.set(me(),s.Ignored);break}case"LL":{R();break}case"F2L":{r.set(o(),s.Ignored);break}case"ZBLL":{R(),r.set(o(),s.PermuteNonPrimary),r.set(U(),s.Dim),r.set(n.and([o(),d()]),s.Regular);break}case"ZBLS":{R(),r.set(J(),s.Regular),Y(),r.set(n.and([o(),d()]),s.Ignored);break}case"VLS":{R(),r.set(J(),s.Regular),Y();break}case"WVLS":{R(),r.set(J(),s.Regular),r.set(n.and([o(),p()]),s.Ignoriented),r.set(n.and([o(),h()]),s.Dim),r.set(n.and([o(),d()]),s.IgnoreNonPrimary);break}case"LS":{R(),r.set(J(),s.Regular),r.set(o(),s.Ignored),r.set(U(),s.Dim);break}case"LSOLL":{R(),Y(),r.set(J(),s.Regular);break}case"LSOCLL":{R(),Ue(),r.set(n.and([o(),d()]),s.IgnoreNonPrimary),r.set(J(),s.Regular);break}case"EO":{r.set(d(),s.Ignored),r.set(p(),s.OrientationWithoutPermutation);break}case"EOline":{r.set(d(),s.Ignored),r.set(p(),s.OrientationWithoutPermutation),r.set(n.and(n.moves(["D","M"])),s.Regular);break}case"EOcross":{r.set(p(),s.OrientationWithoutPermutation),r.set(n.move("D"),s.Regular),r.set(d(),s.Ignored);break}case"CMLL":{r.set(m(),s.Dim),r.set(S(),s.Ignored),r.set(n.and([o(),d()]),s.Regular);break}case"L10P":{r.set(n.not(S()),s.Dim),r.set(n.and([d(),o()]),s.Regular);break}case"L6E":{r.set(n.not(S()),s.Dim);break}case"L6EO":{r.set(n.not(S()),s.Dim),r.set(S(),s.ExperimentalOrientationWithoutPermutation2),r.set(n.and([h(),l()]),s.ExperimentalOrientationWithoutPermutation2),r.set(n.and([n.move("M"),n.move("E")]),s.Ignored);break}case"Daisy":{r.set(n.all(),s.Ignored),r.set(h(),s.Dim),r.set(n.and([n.move("D"),h()]),s.Regular),r.set(n.and([n.move("U"),p()]),s.IgnoreNonPrimary);break}case"Cross":{r.set(n.all(),s.Ignored),r.set(h(),s.Dim),r.set(n.and([n.move("D"),h()]),s.Regular),r.set(n.and([n.move("D"),p()]),s.Regular);break}case"2x2x2":{r.set(n.or(n.moves(["U","F","R"])),s.Ignored),r.set(n.and([n.or(n.moves(["U","F","R"])),h()]),s.Dim);break}case"2x2x3":{r.set(n.all(),s.Dim),r.set(n.or(n.moves(["U","F","R"])),s.Ignored),r.set(n.and([n.or(n.moves(["U","F","R"])),h()]),s.Dim),r.set(n.and([n.move("F"),n.not(n.or(n.moves(["U","R"])))]),s.Regular);break}case"G1":{r.set(n.all(),s.ExperimentalOrientationWithoutPermutation2),r.set(n.or(n.moves(["E"])),s.OrientationWithoutPermutation),r.set(n.and(n.moves(["E","S"])),s.Ignored);break}case"L2C":{r.set(n.or(n.moves(["L","R","B","D"])),s.Dim),r.set(n.not(h()),s.Ignored);break}case"PBL":{r.set(n.all(),s.Ignored),r.set(n.or(n.moves(["U","D"])),s.PermuteNonPrimary);break}case"FirstBlock":{r.set(n.not(n.and([n.and(n.moves(["L"])),n.not(o())])),s.Ignored),r.set(w("R"),s.Dim);break}case"SecondBlock":{r.set(n.not(n.and([n.and(n.moves(["L"])),n.not(o())])),s.Ignored),r.set(n.and([n.and(n.moves(["L"])),n.not(o())]),s.Dim),r.set(n.and([n.and(n.moves(["R"])),n.not(o())]),s.Regular);break}case"EODF":{R(),r.set(n.or([me(),n.and([o(),d()])]),s.Ignored),r.set(n.or([n.and([o(),p()]),ge()]),s.OrientationWithoutPermutation),r.set(g(["D","F"]),s.Regular),r.set(w("F"),s.Regular);break}case"Void Cube":{r.set(h(),s.Invisible);break}case"picture":case"invisible":{r.set(n.all(),s.Invisible);break}case"centers-only":{r.set(n.not(h()),s.Ignored);break}default:console.warn(`Unsupported stickering for ${i.id}: ${e}. Setting all pieces to dim.`),r.set(n.and(n.moves([])),s.Dim)}return r}async function de(i,e){const t=[],r=[];for(const[n,o]of Object.entries(Sn))o.groups&&(i in o.groups?t.push(n):e?.use3x3x3Fallbacks&&"3x3x3"in o.groups&&r.push(n));return t.concat(r)}function y(i){let e=null;return()=>e??=i()}async function Te(i){return(await import("./index-CwN6ZqcL.js")).getPuzzleGeometryByName(i,{allMoves:!0,orientCenters:!0,addRotations:!0})}async function lt(i,e){const t=await i,r=t.getKPuzzleDefinition(!0);r.name=e;const n=await import("./index-CwN6ZqcL.js"),o=new n.ExperimentalPGNotation(t,t.getOrbitsDef(!0));return new I(o.remapKPuzzleDefinition(r),{experimentalPGNotation:o})}class H{pgId;id;fullName;inventedBy;inventionYear;constructor(e){this.pgId=e.pgID,this.id=e.id,this.fullName=e.fullName,this.inventedBy=e.inventedBy,this.inventionYear=e.inventionYear}#e;pg(){return this.#e??=Te(this.pgId??this.id)}#t;kpuzzle(){return this.#t??=lt(this.pg(),this.id)}#n;svg(){return this.#n??=(async()=>(await this.pg()).generatesvg())()}puzzleSpecificSimplifyOptionsPromise=vn(this.kpuzzle.bind(this))}class oe extends H{stickeringMask(e){return ce(this,e)}stickerings=()=>de(this.id,{use3x3x3Fallbacks:!0})}function vn(i){return new te(async e=>{const t=await i();e({quantumMoveOrder:r=>t.moveToTransformation(new a(r)).repetitionOrder()})})}const Pe={id:"2x2x2",fullName:"2×2×2 Cube",kpuzzle:y(async()=>new I((await import("./puzzles-dynamic-side-events-er4iZI0M.js")).cube2x2x2JSON)),svg:async()=>(await import("./puzzles-dynamic-side-events-er4iZI0M.js")).cube2x2x2SVG,llSVG:y(async()=>(await import("./puzzles-dynamic-side-events-er4iZI0M.js")).cube2x2x2LLSVG),pg:y(async()=>Te("2x2x2")),stickeringMask:i=>ce(Pe,i),stickerings:()=>de("2x2x2",{use3x3x3Fallbacks:!0})},mt={name:"3x3x3",orbits:[{orbitName:"EDGES",numPieces:12,numOrientations:2},{orbitName:"CORNERS",numPieces:8,numOrientations:3},{orbitName:"CENTERS",numPieces:6,numOrientations:4}],defaultPattern:{EDGES:{pieces:[0,1,2,3,4,5,6,7,8,9,10,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{pieces:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{pieces:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0],orientationMod:[1,1,1,1,1,1]}},moves:{U:{EDGES:{permutation:[1,2,3,0,4,5,6,7,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[1,0,0,0,0,0]}},y:{EDGES:{permutation:[1,2,3,0,5,6,7,4,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,7,4,5,6],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,3]}},x:{EDGES:{permutation:[4,8,0,9,6,10,2,11,5,7,1,3],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,3,5,7,6,2,1],orientationDelta:[2,1,2,1,1,2,1,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,3,0,1,2,2]}},L:{EDGES:{permutation:[0,1,2,11,4,5,6,9,8,3,10,7],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,1,0,0,0,0]}},F:{EDGES:{permutation:[9,1,2,3,8,5,6,7,0,4,10,11],orientationDelta:[1,0,0,0,1,0,0,0,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,1,0,0,0]}},R:{EDGES:{permutation:[0,8,2,3,4,10,6,7,5,9,1,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,1,0,0]}},B:{EDGES:{permutation:[0,1,10,3,4,5,11,7,8,9,6,2],orientationDelta:[0,0,1,0,0,0,1,0,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,1,0]}},D:{EDGES:{permutation:[0,1,2,3,7,4,5,6,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,0,1]}},z:{EDGES:{permutation:[9,3,11,7,8,1,10,5,0,4,2,6],orientationDelta:[1,1,1,1,1,1,1,1,1,1,1,1]},CORNERS:{permutation:[3,2,6,5,0,4,7,1],orientationDelta:[1,2,1,2,2,1,2,1]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,3,1]}},M:{EDGES:{permutation:[2,1,6,3,0,5,4,7,8,9,10,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,0,0,0,2,0]}},E:{EDGES:{permutation:[0,1,2,3,4,5,6,7,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,0]}},S:{EDGES:{permutation:[0,3,2,7,4,1,6,5,8,9,10,11],orientationDelta:[0,1,0,1,0,1,0,1,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,0,1,0,1]}},u:{EDGES:{permutation:[1,2,3,0,4,5,6,7,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,0]}},l:{EDGES:{permutation:[2,1,6,11,0,5,4,9,8,3,10,7],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,1,0,0,2,0]}},f:{EDGES:{permutation:[9,3,2,7,8,1,6,5,0,4,10,11],orientationDelta:[1,1,0,1,1,1,0,1,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,0,1]}},r:{EDGES:{permutation:[4,8,0,3,6,10,2,7,5,9,1,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,0,0,1,2,2]}},b:{EDGES:{permutation:[0,5,10,1,4,7,11,3,8,9,6,2],orientationDelta:[0,1,1,1,0,1,1,1,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[3,0,2,5,4,1],orientationDelta:[3,3,0,3,1,3]}},d:{EDGES:{permutation:[0,1,2,3,7,4,5,6,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,1]}}},derivedMoves:{Uw:"u",Lw:"l",Fw:"f",Rw:"r",Bw:"b",Dw:"d",Uv:"y",Lv:"x'",Fv:"z",Rv:"x",Bv:"z'",Dv:"y'","2U":"u U'","2L":"l L'","2F":"f F'","2R":"r R'","2B":"b B'","2D":"d D'"}};function ft(i){const e=i.patternData.CENTERS.pieces[0],t=i.patternData.CENTERS.pieces[5],r=i.patternData.CENTERS.pieces[1];let n=r;return e<r&&n--,t<r&&n--,[e,n]}const qe=new Array(6).fill(0).map(()=>new Array(6));function Fn(){{const i=["","z","x","z'","x'","x2"].map(t=>f.fromString(t)),e=new f("y");for(const t of i){let r=dt.algToTransformation(t);for(let n=0;n<4;n++){r=r.applyAlg(e);const[o,l]=ft(r.toKPattern());qe[o][l]=r.invert()}}}return qe}function Ln(i){const[e,t]=ft(i),r=Fn()[e][t];return i.applyTransformation(r)}function En(i,e){return e.ignorePuzzleOrientation&&(i=Ln(i)),e.ignoreCenterOrientation&&(i=new L(i.kpuzzle,{EDGES:i.patternData.EDGES,CORNERS:i.patternData.CORNERS,CENTERS:{pieces:i.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}})),!!i.experimentalToTransformation()?.isIdentityTransformation()}new Array(24);async function pt(i,e){return(await import("./index-CwN6ZqcL.js")).getPuzzleGeometryByDesc(i,{allMoves:!0,orientCenters:!0,addRotations:!0,...e})}async function bn(i,e){const t=pt(i,e);return lt(t,`description: ${i}`)}const dt=new I(mt);mt.experimentalIsPatternSolved=En;const Bn={KeyI:new a("R"),KeyK:new a("R'"),KeyW:new a("B"),KeyO:new a("B'"),KeyS:new a("D"),KeyL:new a("D'"),KeyD:new a("L"),KeyE:new a("L'"),KeyJ:new a("U"),KeyF:new a("U'"),KeyH:new a("F"),KeyG:new a("F'"),KeyC:new a("l"),KeyR:new a("l'"),KeyU:new a("r"),KeyM:new a("r'"),KeyX:new a("d"),Comma:new a("d'"),KeyT:new a("x"),KeyY:new a("x"),KeyV:new a("x'"),KeyN:new a("x'"),Semicolon:new a("y"),KeyA:new a("y'"),KeyP:new a("z"),KeyQ:new a("z'"),KeyZ:new a("M'"),KeyB:new a("M"),Period:new a("M'"),Backquote:new N};function F(i,e,t,r){const n=[];for(const o of i){const l=a.fromString(o),{family:u,amount:c}=l;if(![-1,1].includes(c))throw new Error("Invalid config move");n.push({family:u,direction:c,type:e,from:t,to:r})}return n}const Z={"x axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...F(["R"],0,0,3),...F(["L'"],1,0,3),...F(["r","Rw"],2,0,2),...F(["l'","Lw'"],3,0,2),...F(["M'"],4,1,2),...F(["x","Uv","Dv'"],5,0,3)]},"y axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...F(["U"],0,0,3),...F(["D'"],1,0,3),...F(["u","Uw"],2,0,2),...F(["d'","Dw'"],3,0,2),...F(["E'"],4,1,2),...F(["y","Uv","Dv'"],5,0,3)]},"z axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...F(["F"],0,0,3),...F(["B'"],1,0,3),...F(["f","Fw"],2,0,3),...F(["b'","Bw'"],3,0,3),...F(["S"],4,1,2),...F(["z","Fv","Bv'"],5,0,3)]}},le={};for(const[i,e]of Object.entries(Z))for(const t of e.moveSourceInfos)le[t.family]={axis:i,moveSourceInfo:t};const ht={};for(const i of Object.keys(Z)){const e={};ht[i]=e;for(const t of Z[i].moveSourceInfos)(e[t.type]??=[]).push(t)}const wt={};for(const i of Object.keys(Z)){const e=new Map;wt[i]=e;for(const t of Z[i].moveSourceInfos)e.get(t.from)||e.set(t.from,t)}function $e(i,e){const t=ht[i][e]?.[0];if(!t)throw new Error(`Could not find a reference move (axis: ${i}, move source type: ${e})`);return t}const Nn=(i,e)=>le[i.family].axis===le[e.family].axis;function zn(i,e,t,r){if(e+1===t){const p=wt[i].get(e);if(p)return new a(new k(p.family),r*p.direction)}const n=Z[i],{sliceDiameter:o}=n;if(e===0&&t===o){const p=$e(i,5);return new a(new k(p.family),r*p.direction)}const l=e+t>o;l&&([e,t]=[o-t,o-e]);let u=e+1,c=t;const m=u===c;m&&(c=null),u===1&&(u=null),m&&u===1&&(c=null),!m&&c===2&&(c=null);const w=$e(i,m?l?1:0:l?3:2);return new a(new k(w.family,c,u),r*w.direction)}function An(i,e=!0){if(i.length===0)return[];const t=le[i[0].family].axis,r=Z[t],{sliceDiameter:n}=r,o=new Map;let l=null;function u(p,g){let d=(o.get(p)??0)+g;e&&(d=d%4+5%4-1),d===0?o.delete(p):o.set(p,d)}let c=0;for(const p of Array.from(i).reverse()){c++;const{moveSourceInfo:g}=le[p.family],d=p.amount*g.direction;switch(g.type){case 0:{const S=(p.innerLayer??1)-1;u(S,d),u(S+1,-d);break}case 1:{const S=n-(p.innerLayer??1);u(S,d),u(S+1,-d);break}case 2:{u((p.outerLayer??1)-1,d),u(p.innerLayer??2,-d);break}case 3:{u(n-(p.innerLayer??2),d),u(n-((p.outerLayer??1)-1),-d);break}case 4:{u(g.from,d),u(g.to,-d);break}case 5:{u(0,d),u(n,-d);break}}[0,2].includes(o.size)&&(l={suffixLength:c,sliceDeltas:new Map(o)})}if(o.size===0)return[];if(!l)return i;let[m,h]=l.sliceDeltas.keys();m>h&&([m,h]=[h,m]);const w=l.sliceDeltas.get(m);return[...i.slice(0,-l.suffixLength),...w!==0?[zn(t,m,h,w)]:[]]}const kn={quantumMoveOrder:()=>4,axis:{areQuantumMovesSameAxis:Nn,simplifySameAxisMoves:An}},gt={id:"3x3x3",fullName:"3×3×3 Cube",inventedBy:["Ernő Rubik"],inventionYear:1974,kpuzzle:y(async()=>dt),svg:y(async()=>(await import("./puzzles-dynamic-3x3x3-BW0FSrXs.js")).cube3x3x3SVG),llSVG:y(async()=>(await import("./puzzles-dynamic-3x3x3-BW0FSrXs.js")).cube3x3x3LLSVG),llFaceSVG:y(async()=>(await import("./puzzles-dynamic-3x3x3-BW0FSrXs.js")).cube3x3x3LLFaceSVG),pg:y(async()=>Te("3x3x3")),stickeringMask:i=>ce(gt,i),stickerings:()=>de("3x3x3"),puzzleSpecificSimplifyOptions:kn,keyMapping:async()=>Bn},xt=new oe({id:"4x4x4",fullName:"4×4×4 Cube"});xt.llSVG=y(async()=>(await import("./puzzles-dynamic-4x4x4-CsNOCKFJ.js")).cube4x4x4LLSVG);const Tn={id:"clock",fullName:"Clock",inventedBy:["Christopher C. Wiggs","Christopher J. Taylor"],inventionYear:1988,kpuzzle:y(async()=>new I((await import("./puzzles-dynamic-side-events-er4iZI0M.js")).clockJSON)),svg:y(async()=>(await import("./puzzles-dynamic-side-events-er4iZI0M.js")).clockSVG)};async function Pn(i,e){const t=await i.kpuzzle(),r=new ut(t),n=new ct(t),o=()=>n.and([n.move("U"),n.not(n.or(n.moves(["F","BL","BR"])))]),l=()=>n.and([n.move("U"),n.not(n.move("F"))]),u=()=>n.or([l(),n.and([n.move("F"),n.not(n.or(n.moves(["U","BL","BR"])))])]),c=()=>n.not(n.or([n.and([n.move("U"),n.move("F")]),n.and([n.move("F"),n.move("BL")]),n.and([n.move("F"),n.move("BR")]),n.and([n.move("BL"),n.move("BR")])])),m=()=>n.not(n.or([n.and([n.move("F"),n.move("BL")]),n.and([n.move("F"),n.move("BR")]),n.and([n.move("BL"),n.move("BR")])]));switch(e){case"full":break;case"experimental-fto-fc":{r.set(n.not(o()),s.Ignored);break}case"experimental-fto-f2t":{r.set(n.not(l()),s.Ignored),r.set(o(),s.Dim);break}case"experimental-fto-sc":{r.set(n.not(u()),s.Ignored),r.set(l(),s.Dim);break}case"experimental-fto-l2c":{r.set(n.not(c()),s.Ignored),r.set(u(),s.Dim);break}case"experimental-fto-lbt":{r.set(n.not(m()),s.Ignored),r.set(c(),s.Dim);break}case"experimental-fto-l3t":{r.set(m(),s.Dim);break}default:console.warn(`Unsupported stickering for ${i.id}: ${e}. Setting all pieces to dim.`),r.set(n.and(n.moves([])),s.Dim)}return r.toStickeringMask()}async function Un(){return["full","experimental-fto-fc","experimental-fto-f2t","experimental-fto-sc","experimental-fto-l2c","experimental-fto-lbt","experimental-fto-l3t"]}const On={KeyI:new a("R"),KeyK:new a("R'"),KeyW:new a("B"),KeyO:new a("B'"),KeyS:new a("D"),KeyL:new a("D'"),KeyD:new a("L"),KeyE:new a("L'"),KeyJ:new a("U"),KeyF:new a("U'"),KeyH:new a("F"),KeyG:new a("F'"),KeyN:new a("Rv'"),KeyC:new a("l"),KeyR:new a("l'"),KeyU:new a("r"),KeyM:new a("r'"),KeyX:new a("d"),Comma:new a("d'"),KeyT:new a("Lv'"),KeyY:new a("Rv"),KeyV:new a("Lv"),Semicolon:new a("Uv"),KeyA:new a("Uv'"),KeyP:new a("BR'"),KeyQ:new a("BL"),KeyZ:new a("BL'"),KeyB:new a("T"),Period:new a("BR"),Backquote:new N};class In extends H{constructor(){super({pgID:"FTO",id:"fto",fullName:"Face-Turning Octahedron",inventedBy:["Karl Rohrbach","David Pitcher"],inventionYear:1983})}stickeringMask(e){return Pn(this,e)}stickerings=Un;svg=y(async()=>(await import("./puzzles-dynamic-unofficial-AafI5of3.js")).ftoSVG);keyMapping=async()=>On}const Cn=new In,We="d f 0.56",Mn={id:"kilominx",fullName:"Kilominx",kpuzzle:y(()=>bn(We,{includeCenterOrbits:!1,includeEdgeOrbits:!1})),pg:()=>pt(We,{includeCenterOrbits:!1,includeEdgeOrbits:!1}),svg:y(async()=>(await import("./puzzles-dynamic-unofficial-AafI5of3.js")).kilominxSVG)},Gn={id:"loopover",fullName:"Loopover",inventedBy:["Cary Huang"],inventionYear:2018,kpuzzle:y(async()=>new I((await import("./puzzles-dynamic-unofficial-AafI5of3.js")).loopoverJSON)),svg:async()=>(await import("./puzzles-dynamic-unofficial-AafI5of3.js")).loopoverSVG};async function Kn(i,e){return(await yt()).includes(e)?ce(i,e):(console.warn(`Unsupported stickering for ${i.id}: ${e}. Setting all pieces to dim.`),ce(i,"full"))}const _n=P(()=>de("megaminx"));function yt(){return _n}const qn={KeyI:new a("R"),KeyK:new a("R'"),KeyW:new a("B"),KeyO:new a("B'"),KeyS:new a("FR"),KeyL:new a("FR'"),KeyD:new a("L"),KeyE:new a("L'"),KeyJ:new a("U"),KeyF:new a("U'"),KeyH:new a("F"),KeyG:new a("F'"),KeyC:new a("Lw"),KeyR:new a("Lw'"),KeyU:new a("Rw"),KeyM:new a("Rw'"),KeyX:new a("d"),Comma:new a("d'"),KeyT:new a("Rv"),KeyY:new a("Rv"),KeyV:new a("Rv'"),KeyN:new a("Rv'"),Semicolon:new a("y"),KeyA:new a("y'"),KeyP:new a("z"),KeyQ:new a("z'"),KeyZ:new a("2L'"),KeyB:new a("2R"),Period:new a("2R'"),Backquote:new N};class $n extends H{constructor(){super({id:"megaminx",fullName:"Megaminx",inventionYear:1981})}stickeringMask(e){return Kn(this,e)}stickerings=yt;llSVG=y(async()=>(await import("./puzzles-dynamic-megaminx-pDLrtc2V.js")).megaminxLLSVG);keyMapping=async()=>qn}const Wn=new $n,Qn={id:"melindas2x2x2x2",fullName:"Melinda's 2×2×2×2",inventedBy:["Melinda Green"],kpuzzle:y(async()=>new I((await import("./puzzles-dynamic-side-events-er4iZI0M.js")).melindas2x2x2x2OrbitJSON)),svg:y(async()=>(await import("./puzzles-dynamic-side-events-er4iZI0M.js")).melindas2x2x2x2OrbitSVG)};class Vn extends H{constructor(){super({id:"pyraminx",fullName:"Pyraminx",inventedBy:["Uwe Meffert"]})}svg=y(async()=>(await import("./puzzles-dynamic-side-events-er4iZI0M.js")).pyraminxSVG)}const Hn=new Vn,Zn={id:"redi_cube",fullName:"Redi Cube",inventedBy:["Oskar van Deventer"],inventionYear:2009,kpuzzle:y(async()=>new I((await import("./puzzles-dynamic-unofficial-AafI5of3.js")).rediCubeJSON)),svg:async()=>(await import("./puzzles-dynamic-unofficial-AafI5of3.js")).rediCubeSVG},jn={id:"square1",fullName:"Square-1",inventedBy:["Karel Hršel","Vojtech Kopský"],inventionYear:1990,kpuzzle:y(async()=>new I((await import("./puzzles-dynamic-side-events-er4iZI0M.js")).sq1HyperOrbitJSON)),svg:y(async()=>(await import("./puzzles-dynamic-side-events-er4iZI0M.js")).sq1HyperOrbitSVG)},Jn={id:"tri_quad",fullName:"TriQuad",inventedBy:["Bram Cohen","Carl Hoff"],inventionYear:2018,kpuzzle:y(async()=>new I((await import("./puzzles-dynamic-side-events-er4iZI0M.js")).triQuadJSON)),svg:y(async()=>(await import("./puzzles-dynamic-side-events-er4iZI0M.js")).triQuadSVG)},_={"3x3x3":gt,"2x2x2":Pe,"4x4x4":xt,"5x5x5":new oe({id:"5x5x5",fullName:"5×5×5 Cube"}),"6x6x6":new oe({id:"6x6x6",fullName:"6×6×6 Cube"}),"7x7x7":new oe({id:"7x7x7",fullName:"7×7×7 Cube"}),"40x40x40":new oe({id:"40x40x40",fullName:"40×40×40 Cube"}),clock:Tn,megaminx:Wn,pyraminx:Hn,skewb:new H({id:"skewb",fullName:"Skewb",inventedBy:["Tony Durham"]}),square1:jn,fto:Cn,gigaminx:new H({id:"gigaminx",fullName:"Gigaminx",inventedBy:["Tyler Fox"],inventionYear:2006}),master_tetraminx:new H({pgID:"master tetraminx",id:"master_tetraminx",fullName:"Master Tetraminx",inventedBy:["Katsuhiko Okamoto"],inventionYear:2002}),kilominx:Mn,redi_cube:Zn,melindas2x2x2x2:Qn,loopover:Gn,tri_quad:Jn};let Dt=!1;function Yn(i){Dt=i}function C(){if(!Dt)throw new Error("Must be called from inside a worker, to avoid impact on page performance. Try importing from the top level of `cubing/solve`?")}var St=2**53,Xn=2097152,er=11,De=new Uint32Array(2);function tr(){globalThis.crypto.getRandomValues(De);const i=De[0],e=De[1];return Math.floor(i*Xn)+(e>>er)}function nr(i){if(typeof i!="number"||i<0||Math.floor(i)!==i)throw new Error("randomUIntBelow() not called with a positive integer value.");if(i>St)throw new Error(`Called randomUIntBelow() with max === ${i}, which is larger than JavaScript can handle with integer precision.`)}function rr(i){nr(i);for(var e,t,r;;)if(e=tr(),t=Math.floor(e/i),r=t*i,r<=St-i)return e-r}function Rt(i){return i[rr(i.length)]}var ee=(i=>(i.OuterBlockTurnMetric="OBTM",i.RangeBlockTurnMetric="RBTM",i.SingleSliceTurnMetric="SSTM",i.OuterBlockQuantumTurnMetric="OBQTM",i.RangeBlockQuantumTurnMetric="RBQTM",i.SingleSliceQuantumTurnMetric="SSQTM",i.ExecutionTurnMetric="ETM",i))(ee||{});ee.OuterBlockTurnMetric+"",ee.RangeBlockTurnMetric+"",ee.OuterBlockQuantumTurnMetric+"",ee.RangeBlockQuantumTurnMetric+"",ee.ExecutionTurnMetric+"";class he extends ke{constructor(e){super(),this.metric=e}traverseAlg(e){let t=0;for(const r of e.childAlgNodes())t+=this.traverseAlgNode(r);return t}traverseGrouping(e){const t=e.alg;return this.traverseAlg(t)*Math.abs(e.amount)}traverseMove(e){return this.metric(e)}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 0}traverseNewline(e){return 0}traverseLineComment(e){return 0}}class ir extends ke{traverseAlg(e){let t=0;for(const r of e.childAlgNodes())t+=this.traverseAlgNode(r);return t}traverseGrouping(e){const t=e.alg;return this.traverseAlg(t)*Math.abs(e.amount)}traverseMove(e){return 1}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 1}traverseNewline(e){return 1}traverseLineComment(e){return 1}}function vt(i){return"A"<=i&&i<="Z"}function Ft(i){const e=i.family;return vt(e[0])&&e[e.length-1]==="v"||e==="x"||e==="y"||e==="z"||e==="T"?0:1}function or(i){return 1}function Lt(i){const e=i.family;return vt(e[0])&&e[e.length-1]==="v"||e==="x"||e==="y"||e==="z"||e==="T"?0:1}function ar(i){return Math.abs(i.amount)*Lt(i)}const sr=W(he,[Ft]);W(he,[or]);W(he,[ar]);W(he,[Lt]);W(ir,[Ft]);class ur extends ke{traverseAlg(e){let t=0;for(const r of e.childAlgNodes())t+=this.traverseAlgNode(r);return t}traverseGrouping(e){return this.traverseAlg(e.alg)*Math.abs(e.amount)}traverseMove(e){return 1}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 1}traverseNewline(e){return 0}traverseLineComment(e){return 0}}W(ur);const cr=2;function lr(i,e){const t=[];for(const r of e){const n=new a(r);if(n.amount!==1)throw new Error("SGS cannot handle def moves with an amount other than 1 yet.");let o=i.identityTransformation();for(let l=1;o=o.applyMove(n),!o.isIdentityTransformation();l++)t.push({move:n.modified({amount:l}),transformation:o})}return t}class we{constructor(e,t,r){this.kpuzzle=e,this.sgs=t,this.searchMoves=lr(this.kpuzzle,r??Object.keys(this.kpuzzle.definition.moves))}searchMoves;async solve(e,t=cr,r){const n=e.experimentalToTransformation();if(!n)throw new Error("distinguishable pieces are not supported in tremble solver yt");let o=null,l=1e6;const u=(c,m,h)=>{if(m===0){const w=this.sgsPhaseSolve(c,l);if(!w)return;const p=h.concat(w).experimentalSimplify({cancel:{directional:"any-direction",puzzleSpecificModWrap:"canonical-centered"},puzzleSpecificSimplifyOptions:{quantumMoveOrder:r}}),g=sr(p);(o===null||g<l)&&(o=p,l=g);return}for(const w of this.searchMoves)u(c.applyTransformation(w.transformation),m-1,h.concat([w.move]))};for(let c=0;c<=t;c++)u(n,c,new f);if(o===null)throw new Error("SGS search failed.");return o}sgsPhaseSolve(e,t){const r=new Ne;let n=e;for(const o of this.sgs.ordering){const l=o.pieceOrdering;let u="";const c=n.invert();for(let h=0;h<l.length;h++){const w=l[h],p=w.orbitName,g=w.permutationIdx;u+=` ${c.transformationData[p].permutation[g]} ${c.transformationData[p].orientationDelta[g]}`}const m=o.lookup[u];if(!m)throw new Error("Missing algorithm in sgs or esgs?");if(r.experimentalPushAlg(m.alg),r.experimentalNumAlgNodes()>=t)return null;n=n.applyTransformation(m.transformation);for(let h=0;h<l.length;h++){const w=l[h],p=w.orbitName,g=w.permutationIdx;if(n.transformationData[p].permutation[g]!==g||n.transformationData[p].orientationDelta[g]!==0)throw new Error("bad SGS :-(")}}return r.toAlg()}}const Et=P(async()=>import("./index-CxO4fCYB.js"));async function bt(i,e,t){const{wasmTwsearch:r}=await Et;return r(i,e,t)}async function mr(i){const{wasmRandomScrambleForEvent:e}=await Et;return e(i)}const q=P(()=>import("./search-dynamic-sgs-side-events-CkuTOe0c.js"));let Qe=null;async function fr(){return Qe||(Qe=(async()=>{const i=await(await q).cachedData222();return new we(await _["2x2x2"].kpuzzle(),i,"URFLBD".split(""))})())}async function pr(){await fr()}async function dr(i){return C(),bt((await Pe.kpuzzle()).definition,i,{generatorMoves:"UFLR".split("")})}function Bt(i,e){const t=new Ne;t.experimentalPushAlg(i);for(const r of e){const n=Rt(r);n!==null&&t.push(a.fromString(n))}return t.toAlg()}const Nt=P(()=>import("./search-dynamic-solve-3x3x3-4o6GMjr8.js")),hr="UF UR UB UL DF DR DB DL FR FL BR BL".split(" "),wr="UFR URB UBL ULF DRF DFL DLB DBR".split(" "),gr="U L F R B D".split(" "),xr=[[1,2,0],[0,2,0],[1,1,0],[0,3,0],[2,0,0],[0,1,0],[1,3,0],[0,0,0],[1,0,0],[1,0,2],[0,1,1],[1,1,1],[0,8,1],[2,3,0],[0,10,1],[1,4,1],[0,5,1],[1,7,2],[1,3,2],[0,0,1],[1,0,1],[0,9,0],[2,2,0],[0,8,0],[1,5,1],[0,4,1],[1,4,2],[1,5,0],[0,4,0],[1,4,0],[0,7,0],[2,5,0],[0,5,0],[1,6,0],[0,6,0],[1,7,0],[1,2,2],[0,3,1],[1,3,1],[0,11,1],[2,1,0],[0,9,1],[1,6,1],[0,7,1],[1,5,2],[1,1,2],[0,2,1],[1,2,1],[0,10,0],[2,4,0],[0,11,0],[1,7,1],[0,6,1],[1,6,2]];function Ve(i,e){return i.slice(e)+i.slice(0,e)}function yr(i){const e=[[],[]];for(let t=0;t<6;t++)if(i.patternData.CENTERS.pieces[t]!==t)throw new Error("non-oriented puzzles are not supported");for(let t=0;t<12;t++)e[0].push(Ve(hr[i.patternData.EDGES.pieces[t]],i.patternData.EDGES.orientation[t]));for(let t=0;t<8;t++)e[1].push(Ve(wr[i.patternData.CORNERS.pieces[t]],i.patternData.CORNERS.orientation[t]));return e.push(gr),e}function Dr(i){const e=yr(i);return xr.map(([t,r,n])=>e[t][r][n]).join("")}function He(i,e){const t=new L(i.kpuzzle,{EDGES:i.patternData.EDGES,CORNERS:i.patternData.CORNERS,CENTERS:{pieces:i.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}}).experimentalToTransformation(),r=new L(e.kpuzzle,{EDGES:e.patternData.EDGES,CORNERS:e.patternData.CORNERS,CENTERS:{pieces:e.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}}).experimentalToTransformation();return t.isIdentical(r)}function Sr(i,e){if(He(i.defaultPattern(),e))return!1;for(const t of"ULFRBD")for(let r=1;r<4;r++){const n=i.moveToTransformation(new a(t,r)).toKPattern();if(He(n,e))return!1}return!0}const Rr=[["R U'","R2 B","D2 B2","D' L B'","R' U'","B","D B2","R' B","L' U","L2 B'","B2","D L B'","L U","B'","U'","R B","D' B2","L B'","U2","U L' B'","","U' L' B'","U","L' B'"],["F2 L2","F' L'","R' F L2","D' L2","F L2","F2 L'","R' F' L'","R2 F L2","R2 F2 L'","L2","F L'","D' L","D2 L2","R2 F' L'","D L","","L2 F L'","L F' L2","L F L'","F' L2","L'","D L2","D F L'","L"],["R B U2 B'","R2 B U' B'","F2 B U B'","F B2 L' B2","B2 L B2","B U' B'","R2 B U2 B'","R' B U' B'","B2 L' B2","F B U B'","B2 U' B2","B' L B","L F' B D' B'","B' U' B2 D B'","B U2 B'","R B U' B'","B2 L2 B2","D' B' L B","B U B'","F' B2 L' B2","","B2 L' B' U' B'"],["U F2 L2 U'","F' U L' U'","F2 U L' U'","U F L2 U'","U2 B2 U2","R' U' B U","D2 U L U'","D U2 B' U2","U L2 U'","F U L' U'","D U L U'","U2 B' U2","","U2 B' U' L' U'","U2 L' U2","U' B U","U L U'","D' U2 B' U2","U L' U'","U2 B U2"],["R' D' F2","F'","F2","D R F'","R D' F2","R2 F'","D' F2","R F'","F2 R' D' F2","F","D2 F2","D' R F'","R2 D' F2","R' F'","D F2","D2 R F'","","F R' D' F2"],["R' D2 F' D F","R F2 R2 F2","R2 F' D2 F","F' R2 D2 F","L D' L'","D F' D2 F","F2 R2 F2","R F' D2 F","F' R2 D' F","F' R' D2 F","F2 R' F2","L D L'","F' R D' F","F2 R F2","F' D2 F","","L D2 R D' L'","F' D2 F' R F2","D2 R2 F2 R2 F2","D F' D' F","F' D F"],["U F2 U'","R U F' U'","D R U F2 U'","U F U'","R2 U F2 U'","R' U F' U'","R U F2 U'","R2 U F' U'","","U L D L' F U'","F2 D' R D F2","D2 U F U'","R' U F2 U'","U F' U'","F2 D2 R D2 F2","D U F U'"],["R2","R' B' D B","D R'","F' R2 F","","R B' D B","R'","B' D B","D' R'","D2 F' R2 F","R","R2 B' D B","D2 R'","B' D' B"],["R2 D' R2","F' R' F R","R D' R2 D R'","D2 R2 D2 R2","R' D' F' R F","U F D F' U'","","R2 D2 B R' B' R'","R' F D' F2 R F","R2 D R2","F2 U F U' F","R' D F' R F","D R2 D2 R2","U F D' F' U'","D R' D2 F' R F","R2 D2 R2","U F D2 F' U'","R' D2 F' R F"],["B R B'","F D F' B R2 B'","D B R2 B'","D2 B R' B'","B R2 B'","D B R' B'","D' B R2 B'","B R' B'","","B R2 B' D B R' B'","D2 B R2 B'","D' B R' B'"],["","R' D R F D2 F'","R' D R","D F D' F'","R F' R' F","F D' F'","R' D' R","F D2 F'","R' D2 R","F D F'"],["","F2 D2 R F' R' D2 F' D2 F'","F2 D2 F' D' F D' F' D2 F'","F2 D F2 D F2 D2 F2","D2 F L D2 L' D2 F'","D F D2 L D2 L' F'","R' D B' D2 B D' R","R' D2 B' D2 B R","F D2 F' D F D F'","F D' L D2 L' D F'","B D' F D B' D' F'","F D2 L D2 L' F'","F D' L D L' D F'","F L D2 L' D2 F'","R' B' D2 B D2 R"],["D'","F L D L' D' F'","D2","L B D B' D' L'","D","B' L' D' L D B","","D F L D L' D' F'"],["F' D2 F D F' D F","F' D' R' D R F","F' R' D' R D F","B D R D' R' B'","","D B' D' L' D L B"],["D F D F' D F D2 F'","F' U2 B' R' B U2 F' L F' L' F'","","D2 L D L2 F L F2 D F"],["L B' L' F L B L' F'","F2 U F' D2 F U' F' D2 F'","D' F' D B D' F D B'","F L2 F R2 F' L2 F R2 F2","D B D' F' D B' D' F","R F L F' R' F L' F'","","D2 B L' U2 L B' D2 B L' U2 L B'","D2 F R' U2 R F' D2 F R' U2 R F'","R F L' F' R' F L F'","D F D' B' D F' D' B","L2 F2 L' B2 L F2 L' B2 L'"],["L B R' B' L' B R B'","R' B R F' R' B' R F","L D2 L U L' D2 L U' L2","","D2 B' D2 F D' L2 F L2 F' D2 B D' F'","D2 F' R' F R2 B' D2 B D2 R' F D2 F'","L B L' F L B' L' F'","F' D2 F' U' F D2 F' U F2","D' B' D F D' B D F'"],["","D2 F' L U2 L' F D2 F' L U2 L' F","D2 B' R U2 R' B D2 B' R U2 R' B"]];async function zt(){const i=await _["3x3x3"].kpuzzle();let e=i.defaultPattern();for(const t of Rr)e=e.applyAlg(f.fromString(Rt(t)));return Sr(i,e)?e:zt()}async function At(i){return C(),f.fromString((await Nt).solvePattern(Dr(i)))}async function kt(){return At(await zt())}async function vr(){(await Nt).initialize()}const Fr=[[null,"Rw","Rw2","Rw'","Fw","Fw'"],[null,"Dw","Dw2","Dw'"]];async function Lr(){return Bt(await kt(),Fr)}const Tt=P(()=>import("./search-dynamic-solve-4x4x4-BYl2M8nV.js")),Er=[[null,"x","x2","x'","z","z'"],[null,"y","y2","y'"]];async function br(){return(await Tt).initialize()}async function Pt(){return C(),(await Tt).random444Scramble()}async function Br(){return Bt(await Pt(),Er)}const Nr=P(()=>import("./search-dynamic-solve-fto-ByiMm3Sw.js"));P(()=>import("./search-dynamic-sgs-unofficial-BGIx66Ap.js"));async function zr(){return C(),new f(await(await Nr).getRandomFTOScramble())}const Ar=P(()=>import("./search-dynamic-solve-kilominx-2hvoDT3l.js"));async function kr(){return C(),(await Ar).getRandomKilominxScramble()}const Tr=P(()=>import("./search-dynamic-solve-master_tetraminx-D-WpmLCY.js"));async function Pr(){return C(),new f(await(await Tr).randomMasterTetraminxScrambleString())}const Ur=2;let Ze=null;async function Or(){return Ze||(Ze=(async()=>{const i=await(await q).cachedSGSDataMegaminx();return new we(await(await q).cachedMegaminxKPuzzleWithoutMO(),i,["U","R","F","L","BR","BL","FR","FL","DR","DL","B","D"])})())}async function Ir(i){C();const e=await Or(),t=structuredClone(i.patternData);t.CENTERS.orientation=new Array(12).fill(0);const r=new L(await(await q).cachedMegaminxKPuzzleWithoutMO(),t);return await e.solve(r,Ur,()=>5)}const Cr=3;let je=null;async function Mr(){return je||(je=(async()=>{const i=await(await q).sgsDataPyraminx();return new we(await _.pyraminx.kpuzzle(),i,"RLUB".split(""))})())}async function Gr(i){return C(),await(await Mr()).solve(i,Cr,()=>3)}const Kr=P(()=>import("./search-dynamic-sgs-unofficial-BGIx66Ap.js"));async function _r(){return C(),(await Kr).getRandomRediCubeScramble()}const qr=3;let Je=null;async function $r(){return Je||(Je=(async()=>{const i=await(await q).sgsDataSkewb();return new we(await(await q).skewbKPuzzleWithoutMOCached(),i,"RLUB".split(""))})())}async function Wr(i){return new L(await(await q).skewbKPuzzleWithoutMOCached(),{CORNERS:i.patternData.CORNERS,CENTERS:{pieces:i.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}})}async function Qr(i){return C(),await(await $r()).solve(await Wr(i),qr,r=>r.family==="y"?4:3)}const Vr=P(()=>import("./search-dynamic-solve-sq1-iFTaLXIh.js"));async function Hr(){return f.fromString(await(await Vr).getRandomSquare1ScrambleString())}const Zr=1e3;Yn(!0);let Ut=!0;function jr(i){Ut=i}function Ye(){return(typeof performance>"u"?Date:performance).now()}async function z(i,e,t){if(!Ut)return e();const r=Ye(),n=e();n?.then&&await n;const o=Ye();return console.warn(`${i}${t?.isPrefetch?" (prefetched)":""}: ${Math.round(o-r)}ms`),n}const Se=new Map;let Re=null,Xe;async function et(i,e){return Xe=(async()=>{await Xe;function t(){return z(`wasmRandomScrambleForEvent(${JSON.stringify(i)})`,()=>mr(i),{isPrefetch:e?.isPrefetch})}switch(i){case"222":return(await t()).experimentalSimplify({puzzleSpecificSimplifyOptions:{quantumMoveOrder:()=>4}});case"555":case"666":case"777":case"333fm":case"minx":case"pyram":case"skewb":case"555bf":return t();case"333":case"333oh":case"333ft":return z("random333Scramble",kt,{isPrefetch:e?.isPrefetch});case"333bf":case"333mbf":return z("random333OrientedScramble",Lr);case"444":return z("random444Scramble",Pt,{isPrefetch:e?.isPrefetch});case"444bf":return z("random444OrientedScramble",Br);case"sq1":return z("getRandomSquare1Scramble",Hr,{isPrefetch:e?.isPrefetch});case"fto":return z("randomFTOScramble",zr,{isPrefetch:e?.isPrefetch});case"master_tetraminx":return z("randomMasterTetraminxScramble",Pr);case"kilominx":return z("randomKilominxScramble",kr,{isPrefetch:e?.isPrefetch});case"redi_cube":return z("randomRediCubeScramble",_r,{isPrefetch:e?.isPrefetch});default:throw new Error(`unsupported event: ${i}`)}})()}let ve="auto";const Ot={initialize:async i=>{switch(i){case"222":return z("preInitialize222",pr);case"333":case"333oh":case"333ft":return z("initialize333",vr);case"444":return z("initialize444",br);default:throw new Error(`unsupported event: ${i}`)}},setScramblePrefetchLevel(i){ve=i},randomScrambleForEvent:async i=>{let e=Se.get(i);return e?Se.delete(i):e=et(i),ve!=="none"&&e.then(()=>{Re&&clearTimeout(Re),Re=setTimeout(()=>{Se.set(i,et(i,{isPrefetch:!0}))},ve==="immediate"?0:Zr)}),e},randomScrambleStringForEvent:async i=>(await Ot.randomScrambleForEvent(i)).toString(),solve333ToString:async i=>{const e=new L(await _["3x3x3"].kpuzzle(),i);return(await At(e)).toString()},solve222ToString:async i=>{const e=new L(await _["2x2x2"].kpuzzle(),i);return(await dr(e)).toString()},solveSkewbToString:async i=>{const e=new L(await _.skewb.kpuzzle(),i);return(await Qr(e)).toString()},solvePyraminxToString:async i=>{const e=new L(await _.pyraminx.kpuzzle(),i);return(await Gr(e)).toString()},solveMegaminxToString:async i=>{const e=new L(await _.megaminx.kpuzzle(),i);return(await Ir(e)).toString()},setDebugMeasurePerf:async i=>{jr(i)},solveTwsearchToString:async(i,e,t)=>{const r=new I(i),n=new L(r,e);return(await bt(i,n,t)).toString()}};Ct(Ot);var Yr=Object.freeze({__proto__:null});export{f as A,I as K,a as M,k as Q,kt as a,Pe as c,Yr as i,_ as p,rr as r};
